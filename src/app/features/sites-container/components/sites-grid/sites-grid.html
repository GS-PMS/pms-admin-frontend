<div class="sites-grid">
  <div class="sites-grid__header">
    <button type="button" class="sites-grid__add-btn" (click)="openCreateForm()">
      {{ 'sites.addSite' | translate }}
    </button>
  </div>

  @if (loading()) {
  <h1 class="sites-grid__status">{{ 'sites.loadingSites' | translate }}</h1>
  } @else if (error()) {
  <h1 class="sites-grid__status sites-grid__status--error">{{ error() }}</h1>
  } @else if (!sites().length) {
  <h1 class="sites-grid__status">{{ 'sites.noSitesFound' | translate }}</h1>
  } @else {
  <div class="sites-grid__container">
    @for (site of sites(); track $index; let cardIdx = $index) {
    <app-site-card [site]="site" (navigate)="onNavigateToSite($event)" [cardIdx]="cardIdx" />
    }
  </div>

  @if (totalPages() > 1) {
  <app-pagination
    [currentPage]="currentPage()"
    [pageSize]="pageSize"
    [totalPages]="totalPages()"
    [totalItems]="totalItems()"
    (pageChange)="onPageChange($event)"
  />
  } }
</div>
