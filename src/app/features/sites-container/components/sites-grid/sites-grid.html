<div class="sites-grid">
  <div class="sites-grid__header">
    <button type="button" class="sites-grid__add-btn" (click)="openCreateForm()">Add Site</button>
  </div>

  @if (loading()) {
  <h1 class="sites-grid__status">Loading sitesâ€¦</h1>
  } @else if (error()) {
  <h1 class="sites-grid__status sites-grid__status--error">{{ error() }}</h1>
  } @else if (!sites().length) {
  <h1 class="sites-grid__status">No sites found at this level.</h1>
  } @else {
  <div class="sites-grid__container">
    @for (site of sites(); track site.id) {
    <app-site-card [site]="site" (navigate)="onNavigateToSite($event)" />
    }
  </div>

  @if (totalPages() > 1) {
  <app-pagination
    [currentPage]="currentPage()"
    [pageSize]="pageSize"
    [totalPages]="totalPages()"
    [totalItems]="totalItems()"
    (pageChange)="onPageChange($event)"
  />
  } }
</div>
